<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <link rel="stylesheet" href="style.css">
        <title>Piano Keyboard</title>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
        <script src="http://www.verovio.org/javascript/latest/verovio-toolkit-light.js" type="text/javascript" ></script>
        <script src="piano.js"></script>


        <script type="text/javascript">

            $( document ).ready(function() {
                //create piano with 3 octaves, starting at C4 (lowest key)
                //shows labels and octave shift buttons
                var keyboardHTML = htmlForKeyboardWithOctaves(3, octaves.C4, true, true)
                //render the keyboard in the div
                $("#keyboardContainer").html(keyboardHTML)
                //when keys are pressed updatePreview() is called
                bindKeysToFunction(updatePreview)
                //when the clef is changed updatePreviewWithClef() is called
                bindClefSelectionToFunction(updatePreviewWithClef)
                //set the default clef to G4
                setSelectedClef(clefs.G4)
            })

            //this stores all keyboard input
            var plaineEasieCode = ""

            //this is called whenever a piano key is pressed
            function updatePreview(sender, paeNote) {
                console.log("key pressed is " + paeNote)
                plaineEasieCode += paeNote

                //render the notes to an SVG using the Verovio tookit
                //width of the svg is 800px and note scaling 50%
                var notesSVG = svgNotesForPlaineEasieCode(plaineEasieCode, clefs.G4, 800, 50)
                //insert thes SVG code in our div
                var svgContainerDiv = $('#svgNotesContainer')
                svgContainerDiv.html(notesSVG)
            }

            //this is called when the user changes the clef for display
            function updatePreviewWithClef(sender, clef) {
                console.log("clef changed to " + clef)

                //update the SVG with the new clef
                var notesSVG = svgNotesForPlaineEasieCode(plaineEasieCode, clef, 800, 50)
                var svgContainerDiv = $('#svgNotesContainer')
                svgContainerDiv.html(notesSVG)
            }

        </script>


    </head>
<body>
    <div id="keyboardContainer"></div><!-- this will hold the keyboard -->
    <div id="svgNotesContainer"></div><!-- this will hold the SVG with rendered notes -->
</body>
</html>